<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>SPSS to R&#58; An R package to convert SPSS syntax</title>
    <meta name="author" content="Brandon LeBeau" />
   <link rel="alternate" type="application/rss+xml" title="Educate-R" href="http://educate-r.org/feed.xml">
    <link rel="stylesheet" type="text/css" href="/stylesheets/newstyle.css">
    <link rel="stylesheet" href="/stylesheets/xcodeDkGrey.css">
    <script type='text/javascript' src="/stylesheets/highlight.pack.js"></script>
<script type='text/javascript'>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43425299-1', 'auto');
  ga('send', 'pageview');

</script>
   </head>

  <body>
    <script>hljs.initHighlightingOnLoad();</script>

 <div id="navigation">
  <ul>
  <li><a href="/index.html">Home</a></li>
  <li><a href="/about.html">About</a></li>
  <li><a href="/contact.html">Contact</a></li>
  <li><a href="/projects.html">R Packages</a></li>
  <li><a href="/blog.html">Blog</a></li>
  <li><a href="/tags.html">Categories</a></li>
  <li>         <!-- Lockerz Share BEGIN -->
            <a class="a2a_dd" href="http://www.addtoany.com/share_save" tile"Share this Page"><span class="shareicon"><span class="hide">Share</span></span></a>
            <script type="text/javascript">
            var a2a_config = a2a_config || {};
            a2a_config.onclick = 0;
            a2a_config.show_title = 1;
            a2a_config.color_main = "FFFFFF";
            a2a_config.color_border = "FFFFFF";
            a2a_config.color_link_text = "45462f";
            a2a_config.color_link_text_hover = "575757";
            a2a_config.prioritize = ["twitter", "facebook",  "google_plus", "email", "linkedin"];
            </script>
            <script type="text/javascript" src="http://static.addtoany.com/menu/page.js"></script>
            <!-- Lockerz Share END -->  </li>
  </ul>
  </div>
  <div id="headerimg">
    <a href="/index.html"><img src="/images/Logo.png" alt="center" /></a>
  </div>
  <div class="content">
  <div class="blog">
   <!-- <h2>SPSS to R&#58; An R package to convert SPSS syntax</h2> -->
     <div class="full">
  <h1 class="entry-title">
    <a href="/2013/11/26/SPSStoR/" title="SPSS to R&#58; An R package to convert SPSS syntax" rel="bookmark">SPSS to R&#58; An R package to convert SPSS syntax</a>
  </h1>
  <div class="entry-content full-content">
    <p>My first statistical software package I used as an undergrad was SPSS.  I was fortunate during my senior year at <a href="http://www.luther.edu">Luther College</a> to be initially introduced to <a href="http://r-project.org">R</a>.  I did not realize it at the time (except for the pretty graphics) that this was the start of something big for me.  Fast forward a year to graduate school at the University of Minnesota and the majority of my program was again using SPSS.  Under the tutelage of <a href="http://www.cehd.umn.edu/edpsych/people/Faculty/Zieffler.html">Andy</a> in my first graduate statistics course I started to do analyses in both R and SPSS.  After that I started to do all my analyses in R.  Fast forward five years this time to my first full-time job after graduate school at <a href="http://www.spps.org">Saint Paul Public Schools</a> and again everyone was using SPSS.  Fortunately in my year there I was able to significantly push them toward using R more and more.</p>

<p>This long introduction motivates the following package I started writing mostly just to play with regular expressions, but kept playing and came up with a package with many routines.  The package I came up with is called <em>SPSStoR</em> which converts SPSS syntax into R syntax.  Using regular expressions to parse the SPSS syntax to figure out which routine is being run then prints out the R syntax to do the same analysis done by the SPSS syntax.</p>

<p>As you can imagine, the SPSS language has many routines and this is not all encompassing, however it provides many basic commands such as:
* Aggregate
* Correlations
* Crosstab
* Sort Cases
* Descriptives
* One sample t-test
* Independent sample t-test
* Get for sav files (SPSS data files)
* Master SPSStoR function
* Graphics
* Frequencies</p>

<h1>Examples</h1>

<hr />

<p>You can install the package directly from my github page using the devtools library:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">library(devtools)
install_github(&quot;SPSStoR&quot;, &quot;lebebr01&quot;)</code></pre></div>


<p>Once you install the package, I've included some example SPSS syntax within the package to use as examples.  One example syntax file reads in an SPSS data file, sorts the file, then computes descriptive statistics on a handful of variables.  The following should run the command from your computer:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">library(SPSStoR)
file &lt;- paste(system.file(&#39;SPSSsyntax&#39;, package = &#39;SPSStoR&#39;), 
              &quot;/getDescExamp.txt&quot;, sep = &#39;&#39;)
spss_to_r(file)</code></pre></div>


<h3>Output:</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r">[1] &quot;# x is the name of your data frame&quot;
[2] &quot;library(foreign)&quot;
[3] &quot;x &lt;- read.spss(&#39;/data/hubtemp.sav&#39;, to.data.frame = TRUE)&quot;
[4] &quot;x &lt;- x[order(DIVISION, STORE, -AGE), ]&quot;
[5] &quot;library(SPSStoR)&quot;
[6] &quot;with(x, descmat(x = list(longmon, tollmon, equipmon, cardmon, wiremon), mean, sd, min, max))&quot;</code></pre></div>


<p>Here is another example doing a one-sample t-test:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">file &lt;- paste(system.file(&#39;SPSSsyntax&#39;, package = &#39;SPSStoR&#39;), 
              &quot;/ttestOneSampExamp.txt&quot;, sep = &#39;&#39;)
spss_to_r(file)</code></pre></div>


<h3>Output:</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r">[1] &quot;# x is the name of your data frame&quot;
[2] &quot;with(x, t.test(brake, mu = 322, conf.level = .90)&quot;</code></pre></div>


<h1>Summary</h1>

<hr />

<p>Although some working R knowledge is needed to run this package, such as knowledge of installing packages and what an object is, this package may be useful to those trying to figure out a similar command in R.  Over time I hope to slowly add support for more SPSS routines, see my github page for those that I am currently prioritizing.  Let me know via the issues on github if you'd like support for a specific routine or run into problems.</p>

<p>The package home can be found on github: <a href="https://github.com/lebebr01/SPSStoR">SPSStoR</a>
<br>
<br></p>

    <div class="clear"></div>
  </div>
  <p class="alt-font tight">
    Tags:&nbsp;
    
    <a href="/tags.html#R-ref" >R</a>
    
    <a href="/tags.html#SPSS-ref" >SPSS</a>
    
    <a href="/tags.html#package-ref" >package</a>
    
  </p>
  <p class="by-line">
    <span class="date full-date">
      <abbr class="published" title="2013-11-26 00:00:00 -0600">November 26 2013</abbr>
    </span>
  </p>
  <div class="clear"></div>
</div>
<div class="rule">
  <hr/>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'rjourney';

  var disqus_url = "http://lebebr01.github.com/2013/11/26/SPSStoR/";

  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
  </div>  
    </body>
</html>
